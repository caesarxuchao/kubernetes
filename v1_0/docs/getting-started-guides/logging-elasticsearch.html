<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="description" content="Manage a cluster of Linux containers as a single system to accelerate Dev and simplify Ops with Kubernetes by Google.">
  <meta name="viewport"
   content="width=device-width, initial-scale=1, user-scalable=no" />
  <meta property="og:title" content="Kubernetes by Google">
  <meta property="og:site_name" content="Kubernetes by Google">
  <meta property="og:description" content="Manage a cluster of Linux containers as a single system to accelerate Dev and simplify Ops with Kubernetes by Google.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="http://localhost:4000">
  <meta property="og:image" content="http://localhost:4000/img/global/og_img.jpg">

  <link rel="shortcut icon"
   href="http://localhost:4000/img/global/favicon.png" type="image/vnd.microsoft.icon" />
  <!-- apple device icons -->
  <link rel="apple-touch-icon"
   href="http://localhost:4000/img/global/apple_touch_icon_2X.jpg" />
  <!-- end apple device icons -->
  <link type="text/plain" rel="author" href="http://localhost:4000/humans.txt" />
  <link rel="stylesheet" href="http://localhost:4000/css/main.css">
  <link rel="canonical" href="http://localhost:4000/v1_0/docs/getting-started-guides/logging-elasticsearch.html">
  <title>Kubernetes by Google</title>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <script>
    if ( !window.jQuery ) {
        document.write('<script src="http://localhost:4000/js/jquery-2.1.1.min.js"><\/script>');
    }
  </script>
  <script type="text/javascript" src="http://localhost:4000/js/script.js"></script>
  <script>
    var trackOutboundLink=function(n){ga("send","event","outbound","click",n,{hitCallback:function(){document.location=n}})};
  </script>
 </head>
 <body>
<header id="nav" class="mobile-menu-slide">
 <div class="container">
  <div class="row hidden-sm hidden-xs">
   <div class="col-xs-12">
    <a href="http://localhost:4000/"><img src="http://localhost:4000/img/desktop/nav_logo.svg" alt="Kubernetes by Google" id="logo-desktop" /></a>
    <nav>

     <a href="http://localhost:4000/"  >
      <div>
       Home
      </div>
      <div class="underline">
       &nbsp;
      </div>
     </a>

     <a href="http://localhost:4000/gettingstarted"  >
      <div>
       Getting Started
      </div>
      <div class="underline">
       &nbsp;
      </div>
     </a>

     <a href="http://localhost:4000/v1_0"  >
      <div>
       Documentation
      </div>
      <div class="underline">
       &nbsp;
      </div>
     </a>

     <a href="http://localhost:4000/community"  >
      <div>
       Community
      </div>
      <div class="underline">
       &nbsp;
      </div>
     </a>

     <a href="http://localhost:4000/events"  >
      <div>
       Events
      </div>
      <div class="underline">
       &nbsp;
      </div>
     </a>

     <a href="http://kubernetesio.blogspot.com/"  onclick="trackOutboundLink('http://kubernetesio.blogspot.com/'); return false;">
      <div>
       Blog
      </div>
      <div class="underline">
       &nbsp;
      </div>
     </a>

    </nav>
    <a href="javascript:;" class="back-to-top"><svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 17" enable-background="new 0 0 24 17" xml:space="preserve"><g><path fill="#FFFFFF" d="M21.8,15.7c-3.2-3.9-6.5-7.9-9.7-11.8c-3.2,3.9-6.5,7.9-9.7,11.8c-1.1,1.3-2.9-0.6-1.9-1.9 c3.5-4.3,7.1-8.6,10.6-13c0.4-0.5,1.4-0.5,1.9,0c3.5,4.3,7.1,8.6,10.6,13C24.7,15.1,22.8,17,21.8,15.7z"/></g></svg></a>
   </div>
  </div>
 </div>
 <div class="visible-sm-block visible-xs-block">
    <a href="javascript:;" id="mobile-menu-button" class="mobile-menu-slide"><span></span></a>
    <a href="javascript:;" class="back-to-top"><svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 17" enable-background="new 0 0 24 17" xml:space="preserve"><g><path fill="#FFFFFF" d="M21.8,15.7c-3.2-3.9-6.5-7.9-9.7-11.8c-3.2,3.9-6.5,7.9-9.7,11.8c-1.1,1.3-2.9-0.6-1.9-1.9 c3.5-4.3,7.1-8.6,10.6-13c0.4-0.5,1.4-0.5,1.9,0c3.5,4.3,7.1,8.6,10.6,13C24.7,15.1,22.8,17,21.8,15.7z"/></g></svg></a>
 </div>
</header>
<div id="mobile-nav-container" class="visible-sm-block visible-xs-block mobile-menu-slide">

  <a href="http://localhost:4000/"  >
  <div></div>
  <span>Home</span>
 </a>

  <a href="http://localhost:4000/gettingstarted"  >
  <div></div>
  <span>Getting Started</span>
 </a>

  <a href="http://localhost:4000/v1_0"  >
  <div></div>
  <span>Documentation</span>
 </a>

  <a href="http://localhost:4000/community"  >
  <div></div>
  <span>Community</span>
 </a>

  <a href="http://localhost:4000/events"  >
  <div></div>
  <span>Events</span>
 </a>

  <a href="http://kubernetesio.blogspot.com/"  onclick="trackOutboundLink('http://kubernetesio.blogspot.com/'); return false;">
  <div></div>
  <span>Blog</span>
 </a>

</div>
<div>
	<table>
		<tr>
			<td>
				<div id="wrapper">
					<!-- VERSION 1.0 -->
		<ul class="menu">
			<li class="version">
				<a href="/v1_0" class="nav-link">Version 1.0</a>
			</li>
			<li class="navContainer">
				<a href="/v1_0/README.html" class="nav-link">What is Kubernetes?</a>
			</li><!-- 
					GETTING STARTED
					 -->
			<li class="navContainer">Getting Started
			</li><!-- <li>System Requirements 
					</li>-->
			<li class="navSubMenu">
				<a href="/v1_0/docs/getting-started-guides/README.html" class="nav-link">Installing Kubernetes</a> 
				<ul class="submenu item10">
					<li class="subitem1 navContainer">AWS
					</li>
							<li>
								<a href="/v1_0/docs/getting-started-guides/aws.html" class="nav-link">AWS</a>
							</li>
							<li>
								<a href="/v1_0/docs/getting-started-guides/coreos.html" class="nav-link">CoreOS</a>
							</li>
							<li>
								<a href="/v1_0/docs/getting-started-guides/juju.html" class="nav-link">Juju</a>
							</li>
					<li class="navContainer">Azure
					</li>
							<li>
								<a href="/v1_0/docs/getting-started-guides/coreos/azure/README.html" class="nav-link">CoreOS</a>
							</li>
							<li>
								<a href="/v1_0/docs/getting-started-guides/azure.html" class="nav-link">SaltStack</a>
							</li>
					<li>Bare-metal
					</li>
					<li>
						<a href="/v1_0/docs/getting-started-guides/fedora/fedora_ansible_config.html" class="nav-link">Fedora - Ansible</a>
					</li>
					<li>
						<a href="/v1_0/docs/getting-started-guides/fedora/fedora_manual_config.html" class="nav-link">Fedora</a>
					</li>
					<li>
						<a href="/v1_0/docs/getting-started-guides/fedora/flannel_multi_node_cluster.html" class="nav-link">Fedora - flannel</a>
					</li>
					<li>
						<a href="/v1_0/docs/getting-started-guides/centos/centos_manual_config.html" class="nav-link">CentOS</a>
					</li>
					<li>
						<a href="/v1_0/docs/getting-started-guides/ubuntu.html" class="nav-link">Bare-metal</a>
					</li>
					<li>
						<a href="/v1_0/docs/getting-started-guides/coreos/bare_metal_offline.html" class="nav-link">Bare-metal (Offline)</a>
					</li>
					<li>CloudStack
					</li>
					<li>
						<a href="/v1_0/docs/getting-started-guides/cloudstack.html" class="nav-link">CloudStack</a>
					</li>
					<li>Docker
					<li>
						<a href="/v1_0/docs/getting-started-guides/docker.html" class="nav-link">Single Node</a>
					</li>
					</li>
					<li>
						<a href="/v1_0/docs/getting-started-guides/docker-multinode.html" class="nav-link">Multiple Nodes</a>
					</li>
					<li>Google Compute Engine
					</li>
					<li>
						<a href="/v1_0/docs/getting-started-guides/gce.html" class="nav-link">Google Compute Engine</a>
					</li>
					<li>
						<a href="/v1_0/docs/getting-started-guides/coreos.html" class="nav-link">CoreOS</a>
					</li>
					<li>Google Container Engine
					</li>
					<li>
						<a href="https://cloud.google.com/container-engine">Google Container Engine</a>
					</li>
					<li>Joyent
					</li>
					<li>
						<a href="/v1_0/docs/getting-started-guides/juju.html" class="nav-link">Joyent</a>
					</li>
					<li>KVM
					</li>
					<li>
						<a href="/v1_0/docs/getting-started-guides/fedora/flannel_multi_node_cluster.html" class="nav-link">Fedora - flannel</a>
					</li>
					<li>libvirt
					</li>
					<li>
						<a href="/v1_0/docs/getting-started-guides/fedora/flannel_multi_node_cluster.html" class="nav-link">Fedora - flannel</a>
					</li>
					<li>
						<a href="/v1_0/docs/getting-started-guides/libvirt-coreos.html" class="nav-link">CoreOS</a>
					</li>
					<li>Local
					</li>
					<li>
						<a href="/v1_0/docs/getting-started-guides/locally.html" class="nav-link">Local</a>
					</li>
					<li>Mesosphere
					</li>
					<li>
						<a href="/v1_0/docs/getting-started-guides/mesos.html" class="nav-link">Google Compute Engine</a>
					</li>
					<li>OpenStack/HPCloud
					</li>
					<li>
						<a href="/v1_0/docs/getting-started-guides/juju.html" class="nav-link">Juju</a>
					</li>
					<li>oVirt
					</li>
					<li>
						<a href="/v1_0/docs/getting-started-guides/ovirt.html" class="nav-link">oVirt</a>
					</li>
					<li>Rackspace
					</li>
					<li>
						<a href="/v1_0/docs/getting-started-guides/rackspace.html" class="nav-link">Rackspace</a>
					</li>
					<li>
						<a href="/v1_0/docs/getting-started-guides/rkt/README.html" class="nav-link">rkt</a>
					</li>
					<li>Vagrant
					</li>
					<li>
						<a href="/v1_0/docs/getting-started-guides/vagrant.html" class="nav-link">Vagrant</a>
					</li>
					<li>
						<a href="/v1_0/docs/getting-started-guides/coreos.html" class="nav-link">CoreOS</a>
					</li>
					<li>Vmware
					</li>
					<li>
						<a href="/v1_0/docs/getting-started-guides/vsphere.html" class="nav-link">Vmware</a>
					</li>
					<li>
						<a href="/v1_0/docs/getting-started-guides/coreos.html" class="nav-link">CoreOS</a>
					</li>
				</ul>
			</li>
			<li class="navSubMenu">
				<a href="#" class="nav-link">Downloading Kubernetes</a>
			</li>
			<li class="navSubMenu">
				<a href="#" class="nav-link">Next Steps Roadmap</a>
			</li><!-- 
				USERS GUIDE
				 -->
			<li class="navContainer">User's Guide
			</li>
			<li class="item20 navSubMenu">
				<a href="/v1_0/docs/overview.html" class="nav-link">Overview and Concepts</a>
		<ul class="submenu">
			<li class="subitem1">
				<a href="/v1_0/docs/design/architecture.html" class="nav-link">Architecture</a>
			</li>
			<li class="subitem2">
				<a href="/v1_0/docs/cluster-admin-guide.html" class="nav-link">Clusters</a>
			</li>
			<li>
				<a href="/v1_0/docs/node.html" class="nav-link">Nodes</a>
			</li>
			<li>
				<a href="/v1_0/docs/pods.html" class="nav-link">Pods</a>
			</li>
			<li>
				<a href="/v1_0/docs/labels.html" class="nav-link">Labels</a>
			</li>
			<li>
				<a href="/v1_0/docs/replication-controller.html" class="nav-link">Replication Controller</a>
			</li>
			<li>
				<a href="/v1_0/docs/services.html" class="nav-link">Services</a>
			</li>
			<li>
				<a href="#" class="nav-link">Containers</a>
			</li>
			<li>
				<a href="/v1_0/docs/ui.html" class="nav-link">User Interface</a>
			</li>
		</ul>
	</li>
			<!-- 
				CLUSTER ADMINISTRATION 
				-->
			<li class="navContainer navSubMenu">Cluster Administration
			</li>
			<li class="navSubMenu">
				<a href="/v1_0/docs/cluster-admin-guide.html" class="nav-link">Administering Clusters</a>
			</li>
			<li class="item30 navSubMenu">
				<a href="/v1_0/docs/design/README.html" class="nav-link">Planning and Designing</a>
			
		<ul class="submenu">
			<li>
				<a href="#" class="nav-link">Scheduler</a>
			</li>
			<li>
				<a href="/v1_0/docs/design/security.html" class="nav-link">Security</a>
			</li>
			<li>
				<a href="/v1_0/docs/design/access.html" class="nav-link">Access Management</a>
			</li>
			<li>
				<a href="/v1_0/docs/admission_controllers.html" class="nav-link">Admission Controllers</a>
			</li>
			<li>
				<a href="/v1_0/docs/authentication.html" class="nav-link">Authentication</a>
			</li>
			<li>
				<a href="/v1_0/docs/design/namespaces.html" class="nav-link">Namespaces</a>
			</li>
			<li>
				<a href="/v1_0/docs/networking.html" class="nav-link">Networking</a>
			</li>
			<li>
				<a href="/v1_0/docs/availability.html" class="nav-link">High-Availability</a>
			</li>
			<li>
				<a href="/v1_0/docs/resources.html" class="nav-link">Resources</a>
			</li>
			<li>
				<a href="/v1_0/docs/roadmap.html" class="nav-link">Future Development</a>
			</li>
			</ul>
		</li>
			<li class="item40 navSubMenu">
				<a href="/v1_0/docs/cluster_management.html" class="nav-link">Managing Clusters and Nodes</a>
			
		<ul class="submenu">
			<li>
				<a href="#" class="nav-link">Creating Clusters and Nodes</a>
			</li>
			<li>
				<a href="#" class="nav-link">Configuring Clusters</a>
			</li>
			<li>
				<a href="https://github.com/GoogleCloudPlatform/kubernetes/wiki/User-FAQ#how-do-i-change-the-size-of-my-cluster" class="nav-link">Changing Cluster Size</a>
			</li>
			<li>
				<a href="/v1_0/docs/resource_quota_admin.html" class="nav-link">Setting Resource Quotas</a>
			</li>
			<li>
				<a href="#" class="nav-link">Setting Limits</a>
			</li>
			<li>
				<a href="#" class="nav-link">Sharing Clusters</a>
			</li>
			<li>
				<a href="/v1_0/docs/logging.html" class="nav-link">Logging</a>
			</li>
			<li>
				<a href="/v1_0/docs/networking.html" class="nav-link">Networking</a>
			</li>
			<li>
				<a href="#" class="nav-link">Viewing Clusters</a>
			</li>
			<li>
				<a href="#" class="nav-link">Upgrading Clusters</a>
			</li>
			<li>
				<a href="#" class="nav-link">Tearing Down Clusters</a>
			</li>
				</ul>
			</li>
			<li class="navSubMenu">
				<a href="v1.0/cluster/addons/cluster-monitoring/README.html" class="nav-link">Monitoring Clusters</a>
			</li>
			<li class="item50 navSubMenu">
				<a href="#" class="nav-link">Configuration Management</a>
		<ul class="submenu">
			<li>
				<a href="/v1_0/docs/salt.html" class="nav-link">SaltStack</a>
			</li>
			<li>
				<a href="/v1_0/cluster/saltbase/README.html" class="nav-link">SaltStack Configuration</a>
			</li>
				</ul>
			</li>
			<li class="navSubMenu">
				<a href="#" class="nav-link">Container Image Registry</a>
			</li><!-- 
				APPLICATION ADMINISTRATION
				 -->
			<li class="navContainer navSubMenu">Application Administration
			</li>
			<li class="navSubMenu">
				<a href="/v1_0/docs/pod-states.html" class="nav-link">Pod lifecycles</a>
			</li>
			<li class="item60 navSubMenu">
				<a href="#" class="nav-link">Object and Data Identification</a>

		<ul class="submenu">
			<li>
				<a href="/v1_0/docs/labels.html" class="nav-link">Labels</a>
			</li>
			<li>
				<a href="/v1_0/docs/annotations.html" class="nav-link">Annotations</a>
			</li>
			<li>
				<a href="/v1_0/docs/identifiers.html" class="nav-link">Names and UIDs</a>
			</li>
			</ul>
		</li>
		<li class="item70 navSubMenu">
			<a href="#" class="nav-link">Managing Components</a>
			<ul class="submenu">
			<li class="navSubMenu">
				<a href="#" class="nav-link">Pods</a>
			
		<ul class="submenu">
			<li>Overview (+ prerequisites)
			</li>
			<li>Creating and Configuring Pods
			</li>
			<li>Viewing Pods
			</li>
			<li>Updating Pods
			</li>
			<li>Deleting Pods
			</li>
			<li>Whats next?
			</li>
			</ul>
		</li>
			<li class="item80 navSubMenu">
				<a href="#" class="nav-link">Replication Controllers</a>
			
		<ul class="submenu">
			<li>Overview (+ prerequisites)
			</li>
			<li>Creating and Configuring Replication Controllers
			</li>
			<li>Viewing Replication Controllers
			</li>
			<li>Updating Replication Controllers
			</li>
			<li>Scaling Replication Controllers
			</li>
			<li>
				<a href="/v1_0/docs/design/simple-rolling-update.html" class="nav-link">Performing Rolling Updates</a>
			</li>
			<li>Deleting Replication Controllers
			</li>
			<li>Whats next?
			</li>
				</ul>
			</li>
			<li class="item90 navSubMenu">
				<a href="/v1_0/docs/services.html" class="nav-link">Services</a>
			
		<ul class="submenu">
			<li>Overview (+ prerequisites)
			</li>
			<li>Creating and Configuring Services
			</li>
			<li>Viewing Services
			</li>
			<li>Updating Services
			</li>
			<li>Deleting Services
			</li>
			<li>Whats next?
			</li>
				</ul>
			</li>

				</ul>
			</li>
			<li class="navSubMenu">
				<a href="#" class="nav-link">Migrating APIs</a>
			</li><!-- 
				APPLICATION DEVELOPMENT
				 -->
			<li class="navContainer navSubMenu">Application Development
			</li>
			<li class="item100 navSubMenu">
				<a href="/v1_0/docs/container-environment.html" class="nav-link">Container Environment</a>
				
		<ul class="submenu">
			<li>
				<a href="/v1_0/docs/containers.html" class="nav-link">Containers</a>
			</li>
			<li>
				<a href="/v1_0/docs/images.html" class="nav-link">Images</a>
			</li>
			<li>
				<a href="https://github.com/GoogleCloudPlatform/kubernetes/wiki/User-FAQ#use-of-environment-variables-on-the-command-line" class="nav-link">Environment Variable</a>
			</li>
			<li>
				<a href="/v1_0/docs/downward_api.html" class="nav-link">Downward API</a>
			</li>
				</ul>
			</li>
			<li class="navSubMenu">
				<a href="#" class="nav-link">Docker Concepts</a>
			</li>
			<li class="navSubMenu">
				<a href="/v1_0/docs/accessing-the-cluster.html" class="nav-link">Accessing Clusters and Services</a>
			</li>
			<li class="navSubMenu">
				<a href="/v1_0/docs/volumes.html" class="nav-link">Volumes</a>
			</li>
			<li class="navSubMenu">
				<a href="/v1_0/docs/secrets.html" class="nav-link">Secrets</a>
			</li><!-- 
				SOLUTIONS
				 -->
			<li class="navContainer">Solutions
			</li>
			<li class="navSubMenu">
				<a href="http://jeffmendoza.github.io/kubernetes/solutions/mesosphere.html" class="nav-link">Deploying a solution goes here</a>
			</li><!-- 
				TUTORIALS
				 -->
			<li class="navContainer">
				<a href="#" class="nav-link">Tutorials</a>
			</li>
			<li class="item110 navSubMenu">
				<a href="#" class="nav-link">Kubernetes Basics</a>
			
		<ul class="submenu">
			<li>
				<a href="/v1_0/examples/walkthrough/README.html" class="nav-link">Kubernetes 101</a>
			</li>
			<li>
				<a href="/v1_0/examples/walkthrough/k8s201.html" class="nav-link">Kubernetes 201</a>
			</li>
			</ul>
		</li>
			<li class="item120 navSubMenu">
				<a href="#" class="nav-link">Deploying Clusters</a>
		<ul class="submenu">
			<li>
				<a href="/v1_0/examples/cassandra/README.html" class="nav-link">Apache Cassandra Database</a>
			</li>
			<li>
				<a href="/v1_0/examples/spark/README.html" class="nav-link">Apache Spark</a>
			</li>
			<li>
				<a href="/v1_0/examples/storm/README.html" class="nav-link">Apache Storm</a>
			</li>
			<li>
				<a href="/v1_0/examples/celery-rabbitmq/README.html" class="nav-link">Distributed Task Queue</a>
			</li>
			<li>
				<a href="/v1_0/examples/hazelcast/README.html" class="nav-link">Hazelcast</a>
			</li>
			<li>
				<a href="/v1_0/examples/meteor/README.html" class="nav-link">Meteor Applications</a>
			</li>
			<li>
				<a href="/v1_0/examples/redis/README.html" class="nav-link">Redis</a>
			</li>
			<li>
				<a href="/v1_0/examples/rethinkdb/README.html" class="nav-link">RethinkDB</a>
			</li>
		</ul>
	</li>
			<li class="navSubMenu">
				<a href="/v1_0/examples/mysql-wordpress-pd/README.html" class="nav-link">Persistent Images</a>
			</li>
			<li class="item120 navSubMenu">
				<a href="#" class="nav-link">Multi-tier Applications</a>
			
		<ul class="submenu">
			<li>
				<a href="/v1_0/examples/guestbook-go/README.html" class="nav-link">Guestbook - Go Server</a>
			</li>
			<li>
				<a href="/v1_0/examples/guestbook/README.html" class="nav-link">GuestBook - PHP Server</a>
			</li>
			<li>
				<a href="/v1_0/examples/phabricator/README.html" class="nav-link">MySQL - Phabricator Server</a>
			</li>
			</ul>
		</li>
			
			<!-- 
				EXAMPLES
				 -->
			<li class="navContainer">Examples
			</li>
			<li class="item140 navSubMenu">
				<a href="#" class="nav-link">Cluster Setup and Configuration</a>
		
		<ul class="submenu">
			<li>
				<a href="/v1_0/examples/simple-yaml.html" class="nav-link">Using Configuration Files</a>
			</li>
			<li>
				<a href="/v1_0/examples/environment-guide/README.html" class="nav-link">Using Environment Variables</a>
			</li>
			<li>
				<a href="/v1_0/examples/downward-api/README.html" class="nav-link">Using the Downward API</a>
			</li>
			<li>
				<a href="/v1_0/examples/node-selection/README.html" class="nav-link">Assigning Pods to Nodes</a>
			</li>
			<li>
				<a href="/v1_0/examples/kubectl-container/README.html" class="nav-link">Packaging kubectl into a Pod</a>
			</li>
			<li>Resource Control:
			</li>
			<li>
				<a href="/v1_0/examples/kubernetes-namespaces/README.html" class="nav-link">Sharing through Namespaces</a>
			</li>
			<li>
				<a href="/v1_0/docs/design/admission_control_limit_range.md#kubectl">Setting Limits in Pods</a>
			</li>
			<li>Networking:
			</li>
			<li>
				<a href="/v1_0/examples/simple-nginx.html" class="nav-link">Creating Servers with Ext. IPs</a>
			</li>
			<li>
				<a href="/v1_0/examples/cluster-dns/README.html" class="nav-link">Setting Up & Configuring DNS</a>
			</li>
			<li>Logging:
			</li>
			<li>
				<a href="/v1_0/examples/logging-demo/README.html" class="nav-link">Configuring with Visualization</a>
			</li>
			<li>
				<a href="/v1_0/examples/elasticsearch/README.html" class="nav-link">Deploying Elasticsearch</a>
			</li>
			<li>Security:
			</li>
			<li>
				<a href="/v1_0/examples/openshift-origin/README.html" class="nav-link">Deploying OpenShift Origin</a>
			</li>
			<li>
				<a href="/v1_0/examples/secrets/README.html" class="nav-link">Creating and Using Secrets</a>
			</li>
				<li>Storage Models
				<li>
					<a href="/v1_0/examples/persistent-volumes/README.html" class="nav-link">Persistent Volumes</a>
				</li>
				<li>
					<a href="/v1_0/examples/rbd/README.html" class="nav-link">Ceph Volumes</a>
				</li>
				<li>
					<a href="/v1_0/examples/glusterfs/README.html" class="nav-link">GlusterFS Volumes</a>
				</li>
				<li>
					<a href="/v1_0/examples/iscsi/README.html" class="nav-link">iSCSI Volumes</a>
				</li>
				<li>
					<a href="/v1_0/examples/nfs/README.html" class="nav-link">NFS Volumes</a>
				</li>
				<li>
					<a href="#" class="nav-link">MongoDB Volumes</a>
				</li>
			</li>
			</ul>
		</li>
			<li class="item150 navSubMenu">
				<a href="#" class="nav-link">Test Loads, Health, & Pod Status</a>
			
		<ul class="submenu">
			<li>
				<a href="/v1_0/examples/k8petstore/README.html" class="nav-link">Simulating Large Test Loads</a>
			</li>
			<li>
				<a href="/v1_0/examples/liveness/README.html" class="nav-link">Checking if Pods are Healthy</a>
			</li>
			<li>
				<a href="/v1_0/examples/explorer/README.html" class="nav-link">Creating Explorer Pods</a>
			</li>
			</ul>
		</li>
			<li class="item160 navSubMenu">
				<a href="#" class="nav-link">Upgrading Pods and Clusters</a>
				
		<ul class="submenu">
			<li>
				<a href="/v1_0/examples/update-demo/README.html" class="nav-link">Updating Live Pods</a>
			</li>
			<li>
				<a href="#" class="nav-link">Upgrading Clusters</a>
			</li>
			</ul>
		</li>
			<!-- 
				API REFERENCE
				 -->
			<li class="navContainer">API Reference
			</li>
			<li class="item170 navSubMenu">
				<a href="/v1_0/docs/api.html" class="nav-link">API Basics</a>
			
		<ul class="submenu">
			<li>
				<a href="/v1_0/docs/client-libraries.html" class="nav-link">Client Libraries</a>
			</li>
			<li>
				<a href="/v1_0/docs/authorization.html" class="nav-link">API Authorization</a>
			</li>
			<li>
				<a href="/v1_0/docs/accessing_the_api.html" class="nav-link">Reaching the API</a>
			</li>
			<li>
				<a href="/v1_0/docs/working_with_resources.html" class="nav-link">Working with Resources</a>
			</li>
			<li>
				<a href="/v1_0/docs/api-conventions.html" class="nav-link">API Conventions</a>
			</li>
			</ul>
		</li>
			<li class="navSubMenu">
				<a target="_blank" href="http://kubernetes.io/third_party/swagger-ui/" class="nav-link">Kubernetes API Reference</a>
			</li><!-- 
				CLI REFERENCE
				 -->
			<li class="navContainer">CLI Reference
			</li>
			<li class="item180 navSubMenu">
				<a href="/v1_0/docs/kubectl.html" class="nav-link">kubectl Reference</a>
			
		<ul class="submenu">
			<li>
				<a href="/v1_0/docs/kubectl_api-versions.html" class="nav-link">kubectl api-versions</a>
			</li>
			<li>
				<a href="/v1_0/docs/kubectl_cluster-info.html" class="nav-link">kubectl cluster-info</a>
			</li>
			<li>
				<a href="/v1_0/docs/kubectl_config.html" class="nav-link">kubectl config</a>
			</li>
			<li>
				<a href="/v1_0/docs/kubectl_create.html" class="nav-link">kubectl create</a>
			</li>
			<li>
				<a href="/v1_0/docs/kubectl_delete.html" class="nav-link">kubectl delete</a>
			</li>
			<li>
				<a href="/v1_0/docs/kubectl_describe.html" class="nav-link">kubectl describe</a>
			</li>
			<li>
				<a href="/v1_0/docs/kubectl_exec.html" class="nav-link">kubectl exec</a>
			</li>
			<li>
				<a href="/v1_0/docs/kubectl_expose.html" class="nav-link">kubectl expose</a>
			</li>
			<li>
				<a href="/v1_0/docs/kubectl_get.html" class="nav-link">kubectl get</a>
			</li>
			<li>
				<a href="/v1_0/docs/kubectl_label.html" class="nav-link">kubectl label</a>
			</li>
			<li>
				<a href="/v1_0/docs/kubectl_logs.html" class="nav-link">kubectl logs</a>
			</li>
			<li>
				<a href="/v1_0/docs/kubectl_namespace.html" class="nav-link">kubectl namespace</a>
			</li>
			<li>
				<a href="/v1_0/docs/kubectl_port-forward.html" class="nav-link">kubectl port-forward</a>
			</li>
			<li>
				<a href="/v1_0/docs/kubectl_proxy.html" class="nav-link">kubectl proxy</a>
			</li>
			<li>
				<a href="/v1_0/docs/kubectl_rolling-update.html" class="nav-link">kubectl rolling-update</a>
			</li>
			<li>
				<a href="/v1_0/docs/kubectl_run.html" class="nav-link">kubectl run</a>
			</li>
			<li>
				<a href="/v1_0/docs/kubectl_scale.html" class="nav-link">kubectl scale</a>
			</li>
			<li>
				<a href="/v1_0/docs/kubectl_stop.html" class="nav-link">kubectl stop</a>
			</li>
			<li>
				<a href="/v1_0/docs/kubectl_update.html" class="nav-link">kubectl update</a>
			</li>
			<li>
				<a href="/v1_0/docs/kubectl_version.html" class="nav-link">kubectl version</a>
			</li>
			</ul>
		</li>
			<li class="navContainer">Troubleshooting
			</li>
			<li class="item190 navSubMenu">
				<a href="/v1_0/docs/troubleshooting.html" class="nav-link">Resolving Issues</a>
			
		<ul class="submenu">
			<li>
				<a href="https://github.com/GoogleCloudPlatform/kubernetes/wiki/User-FAQ#command-not-found" class="nav-link">Command Not Found</a>
			</li>
			<li>
				<a href="https://github.com/GoogleCloudPlatform/kubernetes/wiki/Debugging-FAQ#checking-logs" class="nav-link">Checking Log Files</a>
			</li>
			<li>
				<a href="https://github.com/GoogleCloudPlatform/kubernetes/wiki/Debugging-FAQ#etcd-contents" class="nav-link">Accessing etcd with etcdctl</a>
			</li>
			<li>
				<a href="https://github.com/GoogleCloudPlatform/kubernetes/wiki/Debugging-FAQ" class="nav-link">Debugging FAQ page</a>
			</li>
			<li>
				<a href="/v1_0/docs/application-troubleshooting.html" class="nav-link">Applications</a>
			</li>
			<li>
				<a href="/v1_0/docs/cluster-troubleshooting.html" class="nav-link">Clusters</a>
				<li>
					Networking Resources Platforms and Operating Systems 
				</li>
				<li>
					<a href="https://github.com/GoogleCloudPlatform/kubernetes/wiki/Debugging-FAQ#gce" class="nav-link">Google Compute Engine</a>
			</li>
			<li>
				<a href="https://github.com/GoogleCloudPlatform/kubernetes/wiki/Debugging-FAQ#arch-linux" class="nav-link">Arch Linux</a>
			</li>
			</ul>
		</li>
			<!-- 
				SUPPORT
				 -->
			<li class="item200 navContainer">
				<a href="#" class="nav-link">Support</a>
			
		<ul class="submenu">
			<li>
				<a href="#" class="nav-link">Getting Help</a>
			</li>
			<li>
				<a href="#" class="nav-link">Esculating Security Issues</a>
			</li>
			<li>
				<a href="http://kubernetes.io/community/" class="nav-link">Community</a>
			</li>
			<li>
				<a href="/v1_0/contrib/recipes">Community Contriubted Solutions</a>
			</li>
			<li>
				<a href="https://github.com/GoogleCloudPlatform/kubernetes/wiki/Media" class="nav-link">Presentation and Videos</a>
			</li>
			</ul>
		</li>
			<!-- 
				RELEASE NOTES
				 -->
			<li>
				<a href="https://github.com/GoogleCloudPlatform/kubernetes/releases" class="navContainer nav-link">Release Notes</a>
			</li>
			<li class="navContainer">
				<a href="/v1_0/docs/glossary.html" class="nav-link">Glossary</a>
			</li>
		</ul>
		<hr>
		<ul>
			<li>
				<a href="/vHEAD" class="nav-link">Development HEAD (unstable)</a>
			</li>
		</ul>
				</div>
			</td>
			<td>
					<div id="doccontent">
			<h1 id="cluster-level-logging-with-elasticsearch-and-kibana">Cluster Level Logging with Elasticsearch and Kibana</h1>

<p>On the Google Compute Engine (GCE) platform the default cluster level logging support targets
<a href="https://cloud.google.com/logging/docs/">Google Cloud Logging</a> as described at the <a href="logging.html">Logging</a> getting
started page. Here we describe how to set up a cluster to ingest logs into Elasticsearch and view them using Kibana as an
alternative to Google Cloud Logging.</p>

<p>To use Elasticsearch and Kibana for cluster logging you should set the following environment variable as shown below:
<code>
KUBE_LOGGING_DESTINATION=elasticsearch
</code></p>

<p>You should also ensure that <code>KUBE_ENABLE_NODE_LOGGING=true</code> (which is the default for the GCE platform).</p>

<p>Now when you create a cluster a message will indicate that the Fluentd node-level log collectors
will target Elasticsearch:</p>

<p>```
$ cluster/kube-up.sh
…
Project: kubernetes-satnam
Zone: us-central1-b
… calling kube-up
Project: kubernetes-satnam
Zone: us-central1-b
+++ Staging server tars to Google Storage: gs://kubernetes-staging-e6d0e81793/devel
+++ kubernetes-server-linux-amd64.tar.gz uploaded (sha1 = 6987c098277871b6d69623141276924ab687f89d)
+++ kubernetes-salt.tar.gz uploaded (sha1 = bdfc83ed6b60fa9e3bff9004b542cfc643464cd0)
Looking for already existing resources
Starting master and configuring firewalls
Created [https://www.googleapis.com/compute/v1/projects/kubernetes-satnam/zones/us-central1-b/disks/kubernetes-master-pd].
NAME                 ZONE          SIZE_GB TYPE   STATUS
kubernetes-master-pd us-central1-b 20      pd-ssd READY
Created [https://www.googleapis.com/compute/v1/projects/kubernetes-satnam/regions/us-central1/addresses/kubernetes-master-ip].
+++ Logging using Fluentd to elasticsearch</p>

<p>```</p>

<p>The node level Fluentd collector pods and the Elasticsearech pods used to ingest cluster logs and the pod for the Kibana
viewer should be running soon after the cluster comes to life.</p>

<p>```
$ kubectl get pods
NAME                                           READY     REASON    RESTARTS   AGE
elasticsearch-logging-v1-78nog                 1/1       Running   0          2h
elasticsearch-logging-v1-nj2nb                 1/1       Running   0          2h
fluentd-elasticsearch-kubernetes-minion-5oq0   1/1       Running   0          2h
fluentd-elasticsearch-kubernetes-minion-6896   1/1       Running   0          2h
fluentd-elasticsearch-kubernetes-minion-l1ds   1/1       Running   0          2h
fluentd-elasticsearch-kubernetes-minion-lz9j   1/1       Running   0          2h
kibana-logging-v1-bhpo8                        1/1       Running   0          2h
kube-dns-v3-7r1l9                              3/3       Running   0          2h
monitoring-heapster-v4-yl332                   1/1       Running   1          2h
monitoring-influx-grafana-v1-o79xf             2/2       Running   0          2h</p>

<p>```</p>

<p>Here we see that for a four node cluster there is a <code>fluent-elasticsearch</code> pod running which gathers
the Docker container logs and sends them to Elasticsearch. The Fluentd collector communicates to
a Kubernetes service that maps requests to specific Elasticsearch pods. Similarly, Kibana can also be
accessed via a Kubernetes service definition.</p>

<p><code>
$ kubectl get services
NAME                    LABELS                                                                                              SELECTOR                        IP(S)          PORT(S)
elasticsearch-logging   k8s-app=elasticsearch-logging,kubernetes.io/cluster-service=true,kubernetes.io/name=Elasticsearch   k8s-app=elasticsearch-logging   10.0.222.57    9200/TCP
kibana-logging          k8s-app=kibana-logging,kubernetes.io/cluster-service=true,kubernetes.io/name=Kibana                 k8s-app=kibana-logging          10.0.193.226   5601/TCP
kube-dns                k8s-app=kube-dns,kubernetes.io/cluster-service=true,kubernetes.io/name=KubeDNS                      k8s-app=kube-dns                10.0.0.10      53/UDP
                                                                                                                                                                           53/TCP
kubernetes              component=apiserver,provider=kubernetes                                                             &lt;none&gt;                          10.0.0.1       443/TCP
monitoring-grafana      kubernetes.io/cluster-service=true,kubernetes.io/name=Grafana                                       k8s-app=influxGrafana           10.0.167.139   80/TCP
monitoring-heapster     kubernetes.io/cluster-service=true,kubernetes.io/name=Heapster                                      k8s-app=heapster                10.0.208.221   80/TCP
monitoring-influxdb     kubernetes.io/cluster-service=true,kubernetes.io/name=InfluxDB                                      k8s-app=influxGrafana           10.0.188.57    8083/TCP
</code></p>

<p>By default two Elasticsearch replicas are created and one Kibana replica is created.</p>

<p><code>
$ kubectl get rc
CONTROLLER                     CONTAINER(S)            IMAGE(S)                                          SELECTOR                                   REPLICAS
elasticsearch-logging-v1       elasticsearch-logging   gcr.io/google_containers/elasticsearch:1.4        k8s-app=elasticsearch-logging,version=v1   2
kibana-logging-v1              kibana-logging          gcr.io/google_containers/kibana:1.3               k8s-app=kibana-logging,version=v1          1
kube-dns-v3                    etcd                    gcr.io/google_containers/etcd:2.0.9               k8s-app=kube-dns,version=v3                1
                               kube2sky                gcr.io/google_containers/kube2sky:1.9                                                        
                               skydns                  gcr.io/google_containers/skydns:2015-03-11-001                                               
monitoring-heapster-v4         heapster                gcr.io/google_containers/heapster:v0.14.3         k8s-app=heapster,version=v4                1
monitoring-influx-grafana-v1   influxdb                gcr.io/google_containers/heapster_influxdb:v0.3   k8s-app=influxGrafana,version=v1           1
                               grafana                 gcr.io/google_containers/heapster_grafana:v0.7                                         
</code></p>

<p>The Elasticsearch and Kibana services are not directly exposed via a publicly reachable IP address. Instead,
they can be accessed via the service proxy running at the master. The URLs for accessing Elasticsearch
and Kibana via the service proxy can be found using the <code>kubectl cluster-info</code> command.</p>

<p>```
$ kubectl cluster-info
Kubernetes master is running at https://146.148.94.154
Elasticsearch is running at https://146.148.94.154/api/v1/proxy/namespaces/default/services/elasticsearch-logging
Kibana is running at https://146.148.94.154/api/v1/proxy/namespaces/default/services/kibana-logging
KubeDNS is running at https://146.148.94.154/api/v1/proxy/namespaces/default/services/kube-dns
Grafana is running at https://146.148.94.154/api/v1/proxy/namespaces/default/services/monitoring-grafana
Heapster is running at https://146.148.94.154/api/v1/proxy/namespaces/default/services/monitoring-heapster
InfluxDB is running at https://146.148.94.154/api/v1/proxy/namespaces/default/services/monitoring-influxdb</p>

<p>```</p>

<p>Before accessing the logs ingested into Elasticsearch using a browser and the service proxy URL we need to find out
the <code>admin</code> password for the cluster using <code>kubectl config view</code>.</p>

<p><code>
$ kubectl config view
...
- name: kubernetes-satnam_kubernetes-basic-auth
  user:
    password: 7GlspJ9Q43OnGIJO
    username: admin
...
</code></p>

<p>The first time you try to access the cluster from a browser a dialog box appears asking for the username and password.
Use the username <code>admin</code> and provide the basic auth password reported by <code>kubectl config view</code> for the
cluster you are trying to connect to. Connecting to the Elasticsearch URL should then give the
status page for Elasticsearch.</p>

<p><img src="es-browser.png" alt="Elasticsearch Status" /></p>

<p>You can now type Elasticsearch queries directly into the browser. Alternatively you can query Elasticsearch
from your local machine using <code>curl</code> but first you need to know what your bearer token is:
<code>
$ kubectl config view --minify
apiVersion: v1
clusters:
- cluster:
    certificate-authority-data: REDACTED
    server: https://146.148.94.154
  name: kubernetes-satnam_kubernetes
contexts:
- context:
    cluster: kubernetes-satnam_kubernetes
    user: kubernetes-satnam_kubernetes
  name: kubernetes-satnam_kubernetes
current-context: kubernetes-satnam_kubernetes
kind: Config
preferences: {}
users:
- name: kubernetes-satnam_kubernetes
  user:
    client-certificate-data: REDACTED
    client-key-data: REDACTED
    token: JsUe2Z3cXqa17UQqQ8qWGGf4nOSLwSnp
</code></p>

<p>Now you can can issue requests to Elasticsearch:
```
$ curl –header “Authorization: Bearer JsUe2Z3cXqa17UQqQ8qWGGf4nOSLwSnp” –insecure https://146.148.94.154/api/v1/proxy/namespaces/default/services/elasticsearch-logging/
{
  “status” : 200,
  “name” : “Vance Astrovik”,
  “cluster_name” : “kubernetes-logging”,
  “version” : {
    “number” : “1.5.2”,
    “build_hash” : “62ff9868b4c8a0c45860bebb259e21980778ab1c”,
    “build_timestamp” : “2015-04-27T09:21:06Z”,
    “build_snapshot” : false,
    “lucene_version” : “4.10.4”
  },
  “tagline” : “You Know, for Search”
}</p>

<p><code>
Note that you need the trailing slash at the end of the service proxy URL. Here is an example of a search:
</code>
$ curl –header “Authorization: Bearer JsUe2Z3cXqa17UQqQ8qWGGf4nOSLwSnp” –insecure https://146.148.94.154/api/v1/proxy/namespaces/default/services/elasticsearch-logging/_search?pretty=true
{
  “took” : 7,
  “timed_out” : false,
  “_shards” : {
    “total” : 6,
    “successful” : 6,
    “failed” : 0
  },
  “hits” : {
    “total” : 123711,
    “max_score” : 1.0,
    “hits” : [ {
      “_index” : “.kibana”,
      “_type” : “config”,
      “_id” : “4.0.2”,
      “_score” : 1.0,
      “_source”:{“buildNum”:6004,”defaultIndex”:”logstash-*”}
    }, {
…
      “_index” : “logstash-2015.06.22”,
      “_type” : “fluentd”,
      “_id” : “AU4c_GvFZL5p_gZ8dxtx”,
      “_score” : 1.0,
      “_source”:{“log”:”synthetic-logger-10lps-pod: 31: 2015-06-22 20:35:33.597918073+00:00\n”,”stream”:”stdout”,”tag”:”kubernetes.synthetic-logger-10lps-pod_default_synth-lgr”,”@timestamp”:”2015-06-22T20:35:33+00:00”}
    }, {
      “_index” : “logstash-2015.06.22”,
      “_type” : “fluentd”,
      “_id” : “AU4c_GvFZL5p_gZ8dxt2”,
      “_score” : 1.0,
      “_source”:{“log”:”synthetic-logger-10lps-pod: 36: 2015-06-22 20:35:34.108780133+00:00\n”,”stream”:”stdout”,”tag”:”kubernetes.synthetic-logger-10lps-pod_default_synth-lgr”,”@timestamp”:”2015-06-22T20:35:34+00:00”}
    } ]
  }
}
```</p>

<p>The Elasticsearch website contains information about <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-uri-request.html">URI search queries</a> which can be used to extract the required logs.</p>

<p>Alternatively you can view the ingested logs using Kibana. The first time you visit the Kibana URL you will be
presented with a page that asks you to configure your view of the ingested logs. Select the option for
timeseries values and select <code>@timestamp</code>. On the following page select the <code>Discover</code> tab and then you
should be able to see the ingested logs. You can set the refresh interval to 5 seconds to have the logs
regulary refreshed. Here is a typical view of ingested logs from the Kibana viewer.</p>

<p><img src="kibana-logs.png" alt="Kibana logs" /></p>

<p>Another way to access Elasticsearch and Kibana in the cluster is to use <code>kubectl proxy</code> which will serve
a local proxy to the remote master:</p>

<p><code>
$ kubectl proxy
Starting to serve on localhost:8001
</code></p>

<p>Now you can visit the URL <a href="http://localhost:8001/api/v1/proxy/namespaces/default/services/elasticsearch-logging">http://localhost:8001/api/v1/proxy/namespaces/default/services/elasticsearch-logging</a> to contact Elasticsearch and <a href="http://localhost:8001/api/v1/proxy/namespaces/default/services/kibana-logging">http://localhost:8001/api/v1/proxy/namespaces/default/services/kibana-logging</a> to access the Kibana viewer.</p>

<p><a href=""><img src="https://kubernetes-site.appspot.com/UA-36037335-10/GitHub/docs/getting-started-guides/logging-elasticsearch.html?pixel" alt="Analytics" /></a></p>

	</div>
<script type="text/javascript">
	$(function() {
			 	$('.nav-link').click( function() {
		        	var href = $(this).attr('href');
					var containertest = href.indexOf('#');
					history.pushState({}, null, href);
					if(containertest == -1){
						$('#doccontent').load(href + ' #doccontent');
					}
		        return false; // don't actually follow the link
		     	});
	});
</script>

			</td>
		</tr>
	</table>
</div>
<footer class="text-center">
 <div class="container">
  <div class="row">
   <div class="col-xs-12">
    <h5>
     Connect With Us!
    </h5>
   </div>
  </div>
  <div class="row">
   <div class="col-xs-12">
    <div class="social">

     <a href="http://stackoverflow.com/questions/tagged/kubernetes" class="stackoverflow" onclick="trackOutboundLink('http://stackoverflow.com/questions/tagged/kubernetes'); return false;"><span>stackoverflow</span></a>

     <a href="https://twitter.com/googlecloud" class="twitter" onclick="trackOutboundLink('https://twitter.com/googlecloud'); return false;"><span>twitter</span></a>

     <a href="https://plus.google.com/+googlecloudplatform" class="googleplus" onclick="trackOutboundLink('https://plus.google.com/+googlecloudplatform'); return false;"><span>googleplus</span></a>

    </div>
   </div>
  </div>
  <div class="row">
   <div class="col-xs-12">

    <a href="http://webchat.freenode.net/?channels=google-containers" onclick="trackOutboundLink('http://webchat.freenode.net/?channels=google-containers'); return false;">Freenode</a>
     | 

    <a href="https://groups.google.com/forum/#!forum/google-containers" onclick="trackOutboundLink('https://groups.google.com/forum/#!forum/google-containers'); return false;">Mailing List</a>
    

   </div>
  </div>
  <div class="row">
   <div class="col-xs-12">
    <div class="copyright">
     © Kubernetes 
    </div>
   </div>
  </div>
 </div>
</footer>

<!-- end of content -->
<!-- responsive test blocks -->
<div class="visible-xs-block"></div>
<div class="visible-sm-block"></div>
<div class="visible-md-block"></div>
<div class="visible-lg-block"></div>
<!-- end of responsive test blocks -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', '', 'auto');
  ga('send', 'pageview');
</script>
 </body>
</html>

<script type="text/javascript">

	$(function() {
	    var menu_ul = $('.menu > li > ul'),
	           menu_a  = $('.menu > li > a');
	    menu_ul.hide();
	    menu_a.click(function(e) {
	        e.preventDefault();
	        if(!$(this).hasClass('active')) {
	            menu_a.removeClass('active');
	            menu_ul.filter(':visible').slideUp('normal');
	            $(this).addClass('active').next().stop(true,true).slideDown('normal');
	        } else {
	            $(this).removeClass('active');
	            $(this).next().stop(true,true).slideUp('normal');
	        }
	    });
	});
	var aurl = window.location.pathname;
	var $current = $('.menu li a[href="' + aurl + '"]');
	$current.parents('submenu').addClass('active').slideToggle();
	$current.next('submenu').slideToggle();	
	window.addEventListener("popstate", function(e) {
	        window.location.href = location.href
	});
	
</script>

